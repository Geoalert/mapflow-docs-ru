

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ru" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ru" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Geoalert API &mdash; документация Mapflow 0.1</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Алфавитный указатель" href="../genindex.html" />
    <link rel="search" title="Поиск" href="../search.html" />
    <link rel="next" title="Модели Mapflow" href="../docs_userguides/pipelines.html" />
    <link rel="prev" title="Тарифы" href="../docs_userguides/prices.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo_mapflow.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../docs_userguides/get_started.html">Пользовательский интерфейс web-приложения Mapflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs_userguides/prices.html">Тарифы</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Geoalert API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">Авторизация</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api">Методы API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">Проекты</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">Получить проект</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Поучить демо проект</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Получить все проекты</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Создать проект</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Удалить проект</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id9">Обработки</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">Получить обработку</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Получить все обработки</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">Создать обработку</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13">Перезапустить обработку</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">Удалить обработку</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">Получить обработку определенной области</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">Загрузить результаты обработки</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#geotiff">Загрузить GeoTIFF для обработки</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id17">API справочник</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#wdname">wdName</a></li>
<li class="toctree-l3"><a class="reference internal" href="#source-type">source_type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#status">status</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../docs_userguides/pipelines.html">Модели Mapflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs_userguides/pipelines.html#id1">Справочник по моделям</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docs_um/classes.html">Urban Mapping – Классификация</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs_forest/classes.html">Forest Mapping – Классификация</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docs_faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mapflow</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Начало</a> &raquo;</li>
      
    <li>Geoalert API</li>
      <li class="wy-breadcrumbs-aside">
    <ul class="this-page-menu">
        <li><a href="https://github.com/Geoalert/mapflow-docs-ru/edit/main/docs_api/processing_api.rst"
               rel="nofollow">Edit on GitHub</a></li>
    </ul>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="geoalert-api">
<h1>Geoalert API<a class="headerlink" href="#geoalert-api" title="Ссылка на этот заголовок">¶</a></h1>
<blockquote>
<div><div class="admonition attention">
<p class="admonition-title">Внимание</p>
<p>Данный API функционирует отдельно от Mapflow. Проекты и обработки, которые вы создаете в Mapflow, не будут доступны через API, и наоборот. Также ваши кредиты Mapflow нельзя использовать для выполнения обработки через API. Чтобы начать пользоваться API, отправьте нам запрос на <a class="reference external" href="mailto:help&#37;&#52;&#48;geoalert&#46;io">help<span>&#64;</span>geoalert<span>&#46;</span>io</a>.</p>
</div>
</div></blockquote>
<div class="section" id="id1">
<h2>Авторизация<a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h2>
<p>API использует метод авторизации Basic Auth, ознакомиться с подробной информацией о нем вы сможете <a class="reference external" href="https://en.wikipedia.org/wiki/Basic_access_authentication">здесь</a>.</p>
</div>
<div class="section" id="api">
<h2>Методы API<a class="headerlink" href="#api" title="Ссылка на этот заголовок">¶</a></h2>
</div>
<div class="section" id="id3">
<h2>Проекты<a class="headerlink" href="#id3" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id4">
<h3>Получить проект<a class="headerlink" href="#id4" title="Ссылка на этот заголовок">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">https://api.mapflow.ai/{projectId}</span></code></p>
<p>Возвращает проект с указанным ID.</p>
<p>Пример ответа:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;546d148f-19a1-40d8-8f16-d1e6dabfd204&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="nt">&quot;progress&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;UNPROCESSED&quot;</span><span class="p">,</span>
        <span class="nt">&quot;percentCompleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;details&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="nt">&quot;aoiCount&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;aoiArea&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;61cd6899-19e8-44a0-97db-b86f1a9b7af4&quot;</span><span class="p">,</span>
        <span class="nt">&quot;login&quot;</span><span class="p">:</span> <span class="s2">&quot;user@user.com&quot;</span><span class="p">,</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;user@user.com&quot;</span><span class="p">,</span>
        <span class="nt">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;USER&quot;</span><span class="p">,</span>
        <span class="nt">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-12-16T16:10:29.492358Z&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;isDefault&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nt">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-13T13:00:31.978Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-13T13:00:31.978Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;workflowDefs&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;084474b5-e001-456f-a486-f62f5ee1ffe1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Buildings Detection&quot;</span><span class="p">,</span>
            <span class="nt">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-08-11T19:57:40.974170Z&quot;</span><span class="p">,</span>
            <span class="nt">&quot;updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-08-11T19:57:40.974172Z&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3>Поучить демо проект<a class="headerlink" href="#id5" title="Ссылка на этот заголовок">¶</a></h3>
<p>При регистрации демонстрационный проект создается для каждого пользователя.</p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">https://api.mapflow.ai/projects/default</span></code></p>
<p>Возвращает имя и ID пользователя демонстрационного проекта.</p>
</div>
<div class="section" id="id6">
<h3>Получить все проекты<a class="headerlink" href="#id6" title="Ссылка на этот заголовок">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">https://api.mapflow.ai/rest/projects</span></code></p>
<p>Возвращает список всех проектов пользователя.</p>
</div>
<div class="section" id="id7">
<h3>Создать проект<a class="headerlink" href="#id7" title="Ссылка на этот заголовок">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">https://api.mapflow.ai/projects/</span></code></p>
<p>Создает новый проект и возвращает его непосредственный статус.</p>
<p>Пример тела запроса:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>//Указаны название проекта и его произвольное описание.</p>
<p>Ответ: вновь созданный проект.</p>
</div>
<div class="section" id="id8">
<h3>Удалить проект<a class="headerlink" href="#id8" title="Ссылка на этот заголовок">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">https://api.mapflow.ai/projects/{projectId}</span></code></p>
<p>Удаляет проект. Каскад удаляет все дочерние объекты.</p>
</div>
</div>
<div class="section" id="id9">
<h2>Обработки<a class="headerlink" href="#id9" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id10">
<h3>Получить обработку<a class="headerlink" href="#id10" title="Ссылка на этот заголовок">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">https://api.mapflow.ai/processings/{processingId}</span></code></p>
<p>Возвращает обработку с определенным ID.</p>
<p>Пример ответа:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;b86127bb-38bc-43e7-9fa9-54b37a0e17af&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Buildings Detection4&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projectId&quot;</span><span class="p">:</span> <span class="s2">&quot;b041da8c-3af3-4269-b4b2-6e3cfe26520c&quot;</span><span class="p">,</span>
    <span class="nt">&quot;vectorLayer&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;098ff0e4-ac3e-45f9-a049-cf84ac45e5c1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Buildings Detection4&quot;</span><span class="p">,</span>
        <span class="nt">&quot;tileJsonUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8600/api/layers/7448c462-6078-49d6-b64a-289c4320508c.json&quot;</span><span class="p">,</span>
        <span class="nt">&quot;tileUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8600/api/layers/7448c462-6078-49d6-b64a-289c4320508c/tiles/{z}/{x}/{y}.vector.pbf&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;rasterLayer&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;f56ba4c8-30cb-4a54-9aca-cb66214ea2f8&quot;</span><span class="p">,</span>
        <span class="nt">&quot;tileJsonUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8500/api/v0/cogs/tiles.json?uri=s3://mapflow-rasters/4f64797d-bfb2-4433-bf56-3bcfd790ee20&quot;</span><span class="p">,</span>
        <span class="nt">&quot;tileUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8500/api/v0/cogs/tiles/{z}/{x}/{y}.png?uri=s3://mapflow-rasters/4f64797d-bfb2-4433-bf56-3bcfd790ee20&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;workflowDef&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;9b70a8fc-6e63-4929-b287-c2307d06e678&quot;</span><span class="p">,</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Buildings Detection&quot;</span><span class="p">,</span>
        <span class="nt">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-06T23:08:50.412Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-06T23:08:50.412Z&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;externalWfIds&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">146923</span>
    <span class="p">],</span>
    <span class="nt">&quot;aoiCount&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;aoiArea&quot;</span><span class="p">:</span> <span class="mi">265197</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="nt">&quot;percentCompleted&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;source_type&quot;</span><span class="p">:</span> <span class="s2">&quot;tif&quot;</span><span class="p">,</span>
        <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;s3://mapflow-rasters/7689666a-a707-4307-8c76-bf8c2ee3e0e4/raster.tif&quot;</span><span class="p">,</span>
        <span class="nt">&quot;zoom&quot;</span><span class="p">:</span> <span class="s2">&quot;18&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;test&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-06T23:13:57.239Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-06T23:13:57.239Z&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3>Получить все обработки<a class="headerlink" href="#id11" title="Ссылка на этот заголовок">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">https://api.mapflow.ai/processings</span></code></p>
<p>Возвращает список всех обработок пользователя.</p>
</div>
<div class="section" id="id12">
<h3>Создать обработку<a class="headerlink" href="#id12" title="Ссылка на этот заголовок">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">https://api.mapflow.ai/rest/processings</span></code></p>
<p>Создает и запускает обработку, а также возвращает ее непосредственное состояние.</p>
<p>Пример тела запроса:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>{
    &quot;name&quot;: &quot;Test&quot;,                                      #Name of this processing. Optional.
    &quot;description&quot;: &quot;A simple test&quot;,                      #Arbitrary description of this processing. Optional.
    &quot;projectId&quot;: &quot;20f05e39-ccea-4e26-a7f3-55b620bf4e31&quot;, #Project id. Optional. If not set, this user&#39;s default project will be used.
    &quot;wdName&quot;: &quot;Buildings Detection&quot;,                     #The name of a workflow definition.
                                                         #Could be &quot;Buildings Detection&quot;, or &quot;Forest Detection&quot;, etc. See ref. below
    &quot;wdId&quot;: &quot;009a89fc-bdf9-408b-ad04-e33bb1cdedda&quot;,      #Workflow definition id. Either wdName or wdId may be specified.
    &quot;geometry&quot;: {                                        #A geojson geometry of the area of interest.
        &quot;type&quot;: &quot;Polygon&quot;,
        &quot;coordinates&quot;: [
          [
            [
              37.29836940765381,
              55.63619642594767
            ],
            [
              37.307724952697754,
              55.63619642594767
            ],
            [
              37.307724952697754,
              55.64024152130109
            ],
            [
              37.29836940765381,
              55.64024152130109
            ],
            [
              37.29836940765381,
              55.63619642594767
            ]
          ]
        ]
    },
    &quot;params&quot;: {                           #Arbitrary string parameters of this processing. Optional.
        &quot;source_type&quot;: &quot;wms&quot;,
        &quot;url&quot;: &quot;https://catalog.data.gov/dataset/usgs-naip-imagery-overlay-map-service-from-the-national-map/resource/776e4050-213c-4203-91b8-657d8fa4b009&quot;,
        &quot;partition_size&quot;: &quot;0.1&quot;           #Max partition size in degrees (both dimensions). Defaults to DEFAULT_PARTITION_SIZE=0.1.
    },
    &quot;meta&quot;: {                             #Arbitrary string key-value pairs for this processing (metadata). Optional.
        &quot;test&quot;: &quot;test&quot;
    }
}
</pre></div>
</div>
<p>Чтобы обработать растр, предоставленный пользователем (см. Раздел «Загрузка GeoTIFF» для обработки), установите следующие параметры:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span>&quot;params&quot;: {
    &quot;source_type&quot;: &quot;tif&quot;,
    &quot;url&quot;: &quot;s3://mapflow-rasters/9764750d-6047-407e-a972-5ebd6844be8a/raster.tif&quot;
}
</pre></div>
</div>
</div></blockquote>
<p>Ответ: вновь созданная обработка.</p>
<div class="section" id="id13">
<h4>Перезапустить обработку<a class="headerlink" href="#id13" title="Ссылка на этот заголовок">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">https://api.mapflow.ai/rest/processings/{processingId}/restart</span></code></p>
<p>Перезапускает неудачные части обработки (не запускает удавшиеся части обработки). Каждый рабочая обработка перезапускается с первого неудачного этапа. Таким образом, выполняется минимально возможный объем работы, чтобы попытаться привести обработку к лучшему результату.</p>
</div>
<div class="section" id="id14">
<h4>Удалить обработку<a class="headerlink" href="#id14" title="Ссылка на этот заголовок">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">https://api.mapflow.ai/rest/processings/{processingId}</span></code></p>
<p>Удаляет обработку. Каскад удаляет все дочерние объекты.</p>
</div>
<div class="section" id="id15">
<h4>Получить обработку определенной области<a class="headerlink" href="#id15" title="Ссылка на этот заголовок">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">https://api.mapflow.ai/rest/processings/{processingId}/aois</span></code></p>
<p>Возвращает список определенных географических областей для обработки в GeoJSON.</p>
<p>Пример ответа:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;b86127bb-38bc-43e7-9fa9-54b37a0e17af&quot;</span><span class="p">,</span>
        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;IN_PROGRESS&quot;</span><span class="p">,</span>
        <span class="nt">&quot;percentCompleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Polygon&quot;</span><span class="p">,</span>
            <span class="nt">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">[</span>
                    <span class="p">[</span>
                        <span class="mf">37.29836940765381</span><span class="p">,</span>
                        <span class="mf">55.63619642594767</span>
                    <span class="p">],</span>
                    <span class="p">[</span>
                        <span class="mf">37.29836940765381</span><span class="p">,</span>
                        <span class="mf">55.64024152130109</span>
                    <span class="p">],</span>
                    <span class="p">[</span>
                        <span class="mf">37.307724952697754</span><span class="p">,</span>
                        <span class="mf">55.64024152130109</span>
                    <span class="p">],</span>
                    <span class="p">[</span>
                        <span class="mf">37.307724952697754</span><span class="p">,</span>
                        <span class="mf">55.63619642594767</span>
                    <span class="p">],</span>
                    <span class="p">[</span>
                        <span class="mf">37.29836940765381</span><span class="p">,</span>
                        <span class="mf">55.63619642594767</span>
                    <span class="p">]</span>
                <span class="p">]</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;area&quot;</span><span class="p">:</span> <span class="mi">265197</span><span class="p">,</span>
        <span class="nt">&quot;externalWfIds&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;146923&quot;</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id16">
<h4>Загрузить результаты обработки<a class="headerlink" href="#id16" title="Ссылка на этот заголовок">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">https://api.mapflow.ai/rest/processings/{processingId}/result</span></code></p>
<p>Возвращает результаты обработки в .geojson в виде потока октетов. Следует вызывать только при успешно завершенной обработке.</p>
</div>
</div>
</div>
<div class="section" id="geotiff">
<h2>Загрузить GeoTIFF для обработки<a class="headerlink" href="#geotiff" title="Ссылка на этот заголовок">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">https://api.mapflow.ai/rest/rasters</span></code></p>
<p>Может использоваться для загрузки растра для дальнейшей обработки. Возвращает URI загруженного растра. На этот URI можно ссылаться при запуске обработки. Запрос представляет собой составной запрос, единственная часть которого «file» - содержит растр.</p>
<p>Пример запроса с cURL:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="se">\</span>
https://api.mapflow.ai/rasters <span class="se">\</span>
-H <span class="s1">&#39;authorization: &lt;Insert auth header value&gt;&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;content-type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW&#39;</span> <span class="se">\</span>
-F <span class="nv">file</span><span class="o">=</span>@custom_raster.tif
</pre></div>
</div>
</div></blockquote>
<p>Пример ответа:</p>
<p><code class="docutils literal notranslate"><span class="pre">{&quot;uri&quot;:</span> <span class="pre">&quot;s3://mapflow-rasters/9764750d-6047-407e-a972-5ebd6844be8a/raster.tif&quot;}</span></code></p>
</div>
<div class="section" id="id17">
<h2>API справочник<a class="headerlink" href="#id17" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="wdname">
<h3>wdName<a class="headerlink" href="#wdname" title="Ссылка на этот заголовок">¶</a></h3>
<blockquote>
<div><table class="colwidths-given longtable docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>КЛЮЧ</p></th>
<th class="head"><p>ЗНАЧЕНИЕ</p></th>
<th class="head"><p>МОДЕЛЬ входного разрешения (m/px)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>wdName</p></td>
<td><p>Buildings Detection</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-odd"><td><p>wdName</p></td>
<td><p>Forest Detection</p></td>
<td><p>1.5</p></td>
</tr>
<tr class="row-even"><td><p>wdName</p></td>
<td><p>Roads Detection</p></td>
<td><p>0.5</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="source-type">
<h3>source_type<a class="headerlink" href="#source-type" title="Ссылка на этот заголовок">¶</a></h3>
<blockquote>
<div><table class="colwidths-given longtable docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ПАРАМЕТРЫ КЛАССА / КЛЮЧ</p></th>
<th class="head"><p>ЗНАЧЕНИЕ</p></th>
<th class="head"><p>ОПИСАНИЕ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>source_type</p></td>
<td><p>XYZ</p></td>
<td><p>URI сервиса изображений в формате «XYZ», например «<a class="reference external" href="https://tile.openstreetmap.org">https://tile.openstreetmap.org</a>/{z}/{x}/{y}.png»</p></td>
</tr>
<tr class="row-odd"><td><p>source_type</p></td>
<td><p>TMS</p></td>
<td><p>Аналогично XYZ с обратной координатой Y</p></td>
</tr>
<tr class="row-even"><td><p>source_type</p></td>
<td><p>WMS</p></td>
<td><p>URI сервиса изображений в формате «WMS», например  «<a class="reference external" href="https://services.nationalmap.gov/arcgis/services/USGSNAIPImagery/ImageServer/WMSServer">https://services.nationalmap.gov/arcgis/services/USGSNAIPImagery/ImageServer/WMSServer</a>»</p></td>
</tr>
<tr class="row-odd"><td><p>source_type</p></td>
<td><p>TIF</p></td>
<td><p>Одно изображение в формате GeoTIFF</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="status">
<h3>status<a class="headerlink" href="#status" title="Ссылка на этот заголовок">¶</a></h3>
<blockquote>
<div><table class="colwidths-given longtable docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>КЛЮЧ</p></th>
<th class="head"><p>ЗНАЧЕНИЕ</p></th>
<th class="head"><p>ОПИСАНИЕ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>status</p></td>
<td><p>UNPROCESSED</p></td>
<td><p>Обработка еще не началась</p></td>
</tr>
<tr class="row-odd"><td><p>status</p></td>
<td><p>IN_PROGRESS</p></td>
<td><p>обработка идет (или находится в очереди)</p></td>
</tr>
<tr class="row-even"><td><p>status</p></td>
<td><p>FAILED</p></td>
<td><p>Обработка закончилась неудачно - измените неверные параметры или попробуйте перезапустить</p></td>
</tr>
<tr class="row-odd"><td><p>status</p></td>
<td><p>OK</p></td>
<td><p>Обработка завершена на 100 процентов</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../docs_userguides/pipelines.html" class="btn btn-neutral float-right" title="Модели Mapflow">Следующая <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../docs_userguides/prices.html" class="btn btn-neutral" title="Тарифы"><span class="fa fa-arrow-circle-left"></span> Предыдущая</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
        <p>Наши контакты <a href=mailto:help@geoalert.io>help@geoalert.io</a>, а также:</p>
        <p>
            <div class="social_doc"><a title="twitter" class="w-8 h-8 flex items-center justify-center" rel="noreferrer" target="_blank" href="https://twitter.com/GeoalertTeam"><svg width="28" height="22" viewBox="0 0 28 22" fill="#292929" class="text-gray-600 fill-current hover:text-secondary"><path d="M27.024 2.608c-.994.44-2.063.74-3.185.872A5.57 5.57 0 0026.276.41a11.16 11.16 0 01-3.519 1.348A5.54 5.54 0 0018.711 0a5.553 5.553 0 00-5.401 6.82A15.708 15.708 0 011.883 1.017 5.515 5.515 0 001.13 3.81c0 1.925.977 3.625 2.468 4.62a5.506 5.506 0 01-2.512-.695v.07a5.548 5.548 0 004.447 5.445 5.51 5.51 0 01-1.46.198c-.356 0-.708-.035-1.042-.101a5.555 5.555 0 005.176 3.859A11.109 11.109 0 010 19.502 15.66 15.66 0 008.498 22c10.2 0 15.777-8.463 15.777-15.802 0-.238-.009-.48-.018-.718a11.367 11.367 0 002.767-2.872z"></path></svg></a><a title="facebook" class="w-8 h-8 flex items-center justify-center" rel="noreferrer" target="_blank" href="https://www.facebook.com/GeoAlertLtd/"><svg width="13" height="24" viewBox="0 0 13 24" fill="#292929" class="text-gray-600 fill-current hover:text-secondary"><path d="M12.61 8.4H8.387V6c0-1.238.1-2.018 1.872-2.018h2.239V.166A31.18 31.18 0 009.218 0C5.966 0 3.593 1.988 3.593 5.64V8.4H0v4.8l3.594-.001V24h4.793V13.196h3.673l.55-4.796z"></path></svg></a><a title="github" class="w-8 h-8 flex items-center justify-center" rel="noreferrer" target="_blank" href="https://github.com/Geoalert"><svg width="25" height="24" viewBox="0 0 25 24" fill="#292929" class="text-gray-600 fill-current hover:text-secondary"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.284 0C5.498 0 0 5.507 0 12.303a12.303 12.303 0 008.401 11.674c.616.113.84-.264.84-.592 0-.293-.012-1.066-.016-2.09-3.419.74-4.139-1.65-4.139-1.65-.56-1.423-1.363-1.803-1.363-1.803-1.116-.761.084-.745.084-.745 1.231.088 1.88 1.266 1.88 1.266C6.781 20.245 8.56 19.7 9.26 19.388c.112-.797.432-1.338.78-1.646-2.727-.309-5.594-1.366-5.594-6.08 0-1.345.48-2.443 1.263-3.304-.124-.308-.548-1.562.12-3.256 0 0 1.032-.328 3.379 1.262.98-.273 2.031-.409 3.075-.413a11.74 11.74 0 013.075.413c2.347-1.59 3.375-1.262 3.375-1.262.672 1.694.252 2.948.124 3.256.787.861 1.26 1.959 1.26 3.304 0 4.726-2.872 5.763-5.607 6.072.44.376.832 1.13.832 2.275 0 1.646-.012 2.971-.012 3.376 0 .328.22.713.844.592a12.305 12.305 0 008.393-11.674C24.568 5.507 19.07 0 12.284 0z"></path></svg></a><a title="medium" class="w-8 h-8 flex items-center justify-center" rel="noreferrer" target="_blank" href="https://medium.com/@geoalert"><svg width="28" height="24" viewBox="0 0 28 24" fill="#292929" class="text-gray-600 fill-current hover:text-secondary"><path d="M27.692 0H0v24h27.692V0z"></path><path d="M6.608 8.026a.583.583 0 00-.234-.526L4.637 5.686v-.27h5.393l4.17 7.923 3.664-7.924h5.142v.271L21.52 6.92a.354.354 0 00-.165.361v9.068a.354.354 0 00.165.361l1.45 1.234v.271h-7.295v-.27l1.502-1.265c.148-.128.148-.165.148-.361v-7.33l-4.178 9.196h-.564L7.72 8.99v6.163c-.04.259.059.52.27.707l1.953 2.054v.271h-5.54v-.27l1.954-2.055a.752.752 0 00.251-.707V8.026z" fill="#fff"></path></svg></a>
            </div>
        </p>
    
    <p>
        
        &copy; Авторские права 2020, Geoalert
    </p>
  </div>
  
</footer>
        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book">  <a href="https://docs.mapflow.ai/">EN</a></span>
      <a href="https://mapflow.ai">Mapflow.ai</a>
    </span>

  </div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>